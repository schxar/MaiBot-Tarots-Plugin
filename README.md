# MaiBot-Tarot-Action-plugins
更新到0100版本可用
塔罗牌插件1.3.0版本正式发布！

![QQ_1751117187452](https://github.com/user-attachments/assets/3eb9b721-aa41-4edb-86bf-fe9cf84fdcb9)

![QQ_1751117224351](https://github.com/user-attachments/assets/7b13be4b-4b66-48e1-9c0b-d07ff65dc7ea)

这是给MaiM-with-u项目开发的一个抽塔罗牌插件，具有模拟人类的调用方式和独特自定义风格的解牌回复。

现已适配最新dev版本的麦麦，如果出现问题可以去灰测群询问或者等待修复，main分支将保持与麦麦的最新dev兼容，不考虑回退。

**塔罗牌插件现在已实现牌组的解耦，现在可以自由编写添加自己的牌组了，详见[说明文档](https://github.com/A0000Xz/MaiBot-Tarots-Plugin/blob/main/help.md)（需要一定动手能力和技术能力）**

插件内自带bilibili牌组和东方牌组。

参考了https://github.com/FloatTech/ZeroBot-Plugin
的塔罗牌插件进行开发

卡牌图片来自于https://github.com/FloatTech/zbpdata

在此鸣谢[ZeroBot插件开发组](https://github.com/FloatTech)
提供的抽牌功能思路，塔罗牌数据和卡牌图片仓库支持

在此鸣谢MaiM-with-u开发组人员的指导和帮助

完整的文件结构都包含在tarots_plugin这个大文件夹内，直接将这个大文件夹放入plugins中就能用。

使用时需指定抽牌方式和抽牌范围，目前已默认支持的有

牌阵："单张", "圣三角", "时间之流","四要素","五牌阵","吉普赛十字","马蹄","六芒星"

如果没有明确指定，默认抽"单张"。

范围："全部", "大阿卡纳", "小阿卡纳"

如果没有明确指定，默认抽"全部"。

**注意，本插件目前内置的两套牌组的图片来源是Github仓库，因此需要你的麦麦部署设备的网络环境能够流畅地访问Github的下载服务。**

**在1.0.3版本中，塔罗牌插件新加入了代理配置选项，你可以通过设置代理URL来做到代理下载。**

不过不用担心，塔罗牌插件有缓存机制，发过的图片都会被缓存在插件的tarots_cache文件夹中，如果你在特殊时段缓存了全部的卡牌图片，那么你就不用担心连不上Github怎么办了。

但即便是这样，也可能出现图片下载失败或者错误的情况。所以现在塔罗牌插件已加入图片缓存纠错机制，会在下载或启动缓存指令时检验所有牌面的完整性，并试图修复图片。

配置文件config.toml内包含限制能够使用指令的人的选项，请自行填写QQ号。

新增了一键缓存指令/tarots cache，可以一键开始缓存所有牌面。

新增了切换牌组指令/tarots switch 牌组名，可以切换你使用的塔罗牌牌组。

配置文件新增了一个功能微调选项，目前用于配置是否额外发送原始解牌文本。

注意，塔罗牌插件的部分配置选项是支持热重载的！！！详情请看配置文件里的注释，有标记的就能热重载。

目前main分支仅支持最新dev，0.7.0版本请看0.7.0分支，0.9.1版本请看release。
